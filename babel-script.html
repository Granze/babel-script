<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="babel-import.html">

<dom-module id="babel-script">
  <template>
    <content id="content"></content>
  </template>

  <script>
    Polymer({
      is: 'babel-script',
      extends: 'script',
      _babelTransform: function(code) {
        console.log(babel.transform(code).code);
      },
      _babelRun: function(code) {
        console.log(babel.transform(code).code);
        babel.run(code);
      },
      created: function() {
        var js = Polymer.dom(this.root).innerHTML;
        this._babelRun(js);
        console.log(Polymer.dom(this.root));
        Polymer.dom(this.root).innerHTML = '';
      }
    });
  </script>
</dom-module>
